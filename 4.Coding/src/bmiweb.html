<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI Calculator - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ BMI</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        .unit-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .unit-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .unit-btn.active {
            background: #667eea;
            color: white;
        }

        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
        }

        .result-section {
            text-align: center;
        }

        .bmi-value {
            font-size: 3em;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }

        .bmi-status {
            font-size: 1.5em;
            padding: 10px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 20px;
        }

        .bmi-scale {
            height: 30px;
            background: linear-gradient(to right, #4ade80, #fbbf24, #fb923c, #ef4444);
            border-radius: 15px;
            position: relative;
            margin: 30px 0;
        }

        .bmi-indicator {
            position: absolute;
            width: 20px;
            height: 40px;
            background: white;
            border: 3px solid #333;
            border-radius: 5px;
            top: -5px;
            transform: translateX(-50%);
            transition: left 0.5s;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .category {
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9em;
        }

        .category.underweight {
            background: #dcfce7;
            color: #166534;
        }

        .category.normal {
            background: #fef3c7;
            color: #854d0e;
        }

        .category.overweight {
            background: #fed7aa;
            color: #9a3412;
        }

        .category.obese {
            background: #fee2e2;
            color: #991b1b;
        }

        .health-tips {
            margin-top: 20px;
            padding: 15px;
            background: #f3f4f6;
            border-radius: 10px;
        }

        .profile-summary {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .profile-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .profile-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .profile-label {
            color: #667eea;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .profile-value {
            font-weight: bold;
            font-size: 1.1em;
        }

        .recommendations {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .recommendation-card {
            background: #f8f9ff;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .recommendation-card h4 {
            color: #667eea;
            margin-bottom: 8px;
        }

        .history-section {
            margin-top: 20px;
        }

        .history-item {
            background: #f9fafb;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .categories {
                grid-template-columns: 1fr 1fr;
            }
            
            .profile-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .recommendations {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè• BMI Calculator</h1>
            <p>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏°‡∏ß‡∏•‡∏Å‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        </div>

        <div class="main-content">
            <!-- Input Section -->
            <div class="card">
                <h2>üìù Enter Your Details</h2>
                
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠ (Name)</label>
                    <input type="text" id="name" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
                </div>

                <div class="form-group">
                    <label>‡∏≠‡∏≤‡∏¢‡∏∏ (Age)</label>
                    <input type="number" id="age" placeholder="Age" value="Age">
                </div>

                <div class="form-group">
                    <label>‡πÄ‡∏û‡∏® (Gender)</label>
                    <select id="gender">
                        <option value="male">‡∏ä‡∏≤‡∏¢ (Male)</option>
                        <option value="female">‡∏´‡∏ç‡∏¥‡∏á (Female)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Unit System</label>
                    <div class="unit-toggle">
                        <button class="unit-btn active" onclick="setUnit('metric')">Metric</button>
                        <button class="unit-btn" onclick="setUnit('imperial')">Imperial</button>
                    </div>
                </div>

                <div class="form-group">
                    <label>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (Weight) <span id="weightUnit">kg</span></label>
                    <input type="number" id="weight" placeholder="weight" step="0.1">
                </div>

                <div class="form-group">
                    <label>‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (Height) <span id="heightUnit">cm</span></label>
                    <input type="number" id="height" placeholder="height" step="0.1">
                </div>

                <button class="calculate-btn" onclick="calculateBMI()">üìä Calculate BMI</button>
            </div>

            <!-- Result Section -->
            <div class="card">
                <h2>üìà Your Results</h2>
                <div class="result-section">
                    <div class="bmi-value" id="bmiValue">--</div>
                    <div class="bmi-status" id="bmiStatus">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</div>
                    
                    <div class="bmi-scale">
                        <div class="bmi-indicator" id="bmiIndicator"></div>
                    </div>

                    <div class="categories">
                        <div class="category underweight">
                            <div><strong>Underweight</strong></div>
                            <div>BMI < 18.5</div>
                        </div>
                        <div class="category normal">
                            <div><strong>Normal</strong></div>
                            <div>18.5 - 24.9</div>
                        </div>
                        <div class="category overweight">
                            <div><strong>Overweight</strong></div>
                            <div>25.0 - 29.9</div>
                        </div>
                        <div class="category obese">
                            <div><strong>Obese</strong></div>
                            <div>BMI ‚â• 30</div>
                        </div>
                    </div>

                    <div class="health-tips" id="healthTips">
                        <strong>üí° Health Tip:</strong>
                        <p>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Summary -->
        <div class="card" id="profileCard" style="display: none;">
            <h2>üë§ Profile Summary</h2>
            <div class="profile-summary">
                <div class="profile-grid">
                    <div class="profile-item">
                        <div class="profile-label">Name</div>
                        <div class="profile-value" id="profileName">-</div>
                    </div>
                    <div class="profile-item">
                        <div class="profile-label">Age</div>
                        <div class="profile-value" id="profileAge">-</div>
                    </div>
                    <div class="profile-item">
                        <div class="profile-label">Gender</div>
                        <div class="profile-value" id="profileGender">-</div>
                    </div>
                    <div class="profile-item">
                        <div class="profile-label">Current BMI</div>
                        <div class="profile-value" id="profileBMI">-</div>
                    </div>
                </div>
            </div>

            <h3 style="margin-top: 30px; color: #667eea;">üí™ Personalized Health Recommendations</h3>
            <div class="recommendations">
                <div class="recommendation-card">
                    <h4>‚öñÔ∏è Maintain Your Balance</h4>
                    <p id="rec1">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</p>
                </div>
                <div class="recommendation-card">
                    <h4>üèÉ Stay Active</h4>
                    <p id="rec2">‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡∏∞ 150 ‡∏ô‡∏≤‡∏ó‡∏µ</p>
                </div>
                <div class="recommendation-card">
                    <h4>üíß Hydration</h4>
                    <p id="rec3">‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡πÅ‡∏Å‡πâ‡∏ß‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô</p>
                </div>
                <div class="recommendation-card">
                    <h4>üìä Regular Monitoring</h4>
                    <p id="rec4">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</p>
                </div>
            </div>
        </div>

        <!-- History & Trend -->
        <div class="card">
            <h2>üìä BMI History & Trend</h2>
            <div class="chart-container">
                <canvas id="bmiChart"></canvas>
            </div>
            <div class="history-section">
                <h3 style="color: #667eea; margin-bottom: 15px;">Recent Entries</h3>
                <div id="historyList"></div>
            </div>
        </div>
    </div>

    <script>
        let currentUnit = 'metric';
        let bmiHistory = [];
        let chart = null;

        function setUnit(unit) {
            currentUnit = unit;
            document.querySelectorAll('.unit-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (unit === 'imperial') {
                document.getElementById('weightUnit').textContent = 'lbs';
                document.getElementById('heightUnit').textContent = 'inches';
                document.getElementById('weight').placeholder = '152';
                document.getElementById('height').placeholder = '73';
            } else {
                document.getElementById('weightUnit').textContent = 'kg';
                document.getElementById('heightUnit').textContent = 'cm';
                document.getElementById('weight').placeholder = '69';
                document.getElementById('height').placeholder = '185';
            }
        }

        function calculateBMI() {
            const name = document.getElementById('name').value || 'User';
            const age = document.getElementById('age').value;
            const gender = document.getElementById('gender').value;
            let weight = parseFloat(document.getElementById('weight').value);
            let height = parseFloat(document.getElementById('height').value);

            if (!weight || !height) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á');
                return;
            }

            // Convert to metric if needed
            if (currentUnit === 'imperial') {
                weight = weight * 0.453592; // lbs to kg
                height = height * 2.54; // inches to cm
            }

            const heightInMeters = height / 100;
            const bmi = (weight / (heightInMeters * heightInMeters)).toFixed(1);

            displayResults(bmi, name, age, gender, weight, height);
            addToHistory(name, bmi, weight, height);
        }

        function displayResults(bmi, name, age, gender, weight, height) {
            document.getElementById('bmiValue').textContent = bmi;
            
            let status, color, tips, rec1;
            
            if (bmi < 18.5) {
                status = 'Underweight (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ)';
                color = '#4ade80';
                tips = '‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠';
                rec1 = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÉ‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ñ‡∏£‡∏ö 3 ‡∏°‡∏∑‡πâ‡∏≠ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°';
            } else if (bmi < 25) {
                status = 'Normal weight (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏õ‡∏Å‡∏ï‡∏¥)';
                color = '#fbbf24';
                tips = '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠';
                rec1 = '‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠';
            } else if (bmi < 30) {
                status = 'Overweight (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô)';
                color = '#fb923c';
                tips = '‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÅ‡∏•‡∏∞‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á';
                rec1 = '‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà ‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö cardio 30-45 ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏≠‡∏î ‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô';
            } else {
                status = 'Obese (‡∏≠‡πâ‡∏ß‡∏ô)';
                color = '#ef4444';
                tips = '‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏±‡∏Å‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢';
                rec1 = '‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å 0.5-1 ‡∏Å‡∏Å./‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢';
            }

            document.getElementById('bmiStatus').textContent = status;
            document.getElementById('bmiStatus').style.background = color;
            document.getElementById('bmiStatus').style.color = 'white';

            // Position indicator
            const position = ((bmi - 15) / (35 - 15)) * 100;
            document.getElementById('bmiIndicator').style.left = Math.min(Math.max(position, 0), 100) + '%';

            document.getElementById('healthTips').innerHTML = `<strong>üí° Health Tip:</strong><p>${tips}</p>`;

            // Update profile
            document.getElementById('profileCard').style.display = 'block';
            document.getElementById('profileName').textContent = name;
            document.getElementById('profileAge').textContent = age + ' years';
            document.getElementById('profileGender').textContent = gender === 'male' ? 'Male' : 'Female';
            document.getElementById('profileBMI').textContent = bmi;

            document.getElementById('rec1').textContent = rec1;
            document.getElementById('rec2').textContent = '‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö cardio 150 ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå + ‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á 2 ‡∏ß‡∏±‡∏ô/‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå';
            document.getElementById('rec3').textContent = '‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥ ' + Math.round(weight * 0.033) + ' ‡∏•‡∏¥‡∏ï‡∏£/‡∏ß‡∏±‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç‡∏ó‡∏µ‡πà‡∏î‡∏µ';
            document.getElementById('rec4').textContent = '‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° BMI ‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤';
        }

        function addToHistory(name, bmi, weight, height) {
            const entry = {
                date: new Date().toLocaleString('th-TH'),
                name: name,
                bmi: bmi,
                weight: weight.toFixed(1),
                height: height.toFixed(0)
            };
            
            bmiHistory.unshift(entry);
            if (bmiHistory.length > 10) bmiHistory.pop();
            
            updateHistoryDisplay();
            updateChart();
        }

        function updateHistoryDisplay() {
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = '';
            
            bmiHistory.forEach((entry, index) => {
                const item = document.createElement('div');
                item.className = 'history-item';
                item.innerHTML = `
                    <div>
                        <strong>${entry.name}</strong> - ${entry.bmi} BMI
                        <div style="font-size: 0.9em; color: #666;">${entry.weight}kg, ${entry.height}cm</div>
                    </div>
                    <div style="font-size: 0.85em; color: #999;">${entry.date}</div>
                `;
                historyList.appendChild(item);
            });
        }

        function updateChart() {
            const ctx = document.getElementById('bmiChart').getContext('2d');
            
            if (chart) {
                chart.destroy();
            }

            const labels = bmiHistory.map((entry, index) => `#${bmiHistory.length - index}`).reverse();
            const data = bmiHistory.map(entry => parseFloat(entry.bmi)).reverse();

            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'BMI Value',
                        data: data,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }, {
                        label: 'Normal Range (18.5)',
                        data: new Array(data.length).fill(18.5),
                        borderColor: '#fbbf24',
                        borderDash: [5, 5],
                        pointRadius: 0
                    }, {
                        label: 'Overweight (25)',
                        data: new Array(data.length).fill(25),
                        borderColor: '#fb923c',
                        borderDash: [5, 5],
                        pointRadius: 0
                    }, {
                        label: 'Obese (30)',
                        data: new Array(data.length).fill(30),
                        borderColor: '#ef4444',
                        borderDash: [5, 5],
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 15,
                            max: 35
                        }
                    }
                }
            });
        }

        // Initialize empty chart
        updateChart();
    </script>
</body>
</html>